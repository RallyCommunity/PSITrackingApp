<!DOCTYPE html>
<html>
<head>
    <title>Release Tracking Board</title>

    <script type="text/javascript" src="/apps/2.0rc3/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.ui.renderer.template.FormattedIDTemplate2",{override:"Rally.ui.renderer.template.FormattedIDTemplate",createIcon:function(data){if(this.showIcon===!1)return"";var className="";switch(data._type.toLowerCase().split("/")[0]){case"userstory":case"hierarchicalrequirement":className="story";break;case"defect":className="defect";break;case"task":className="task";break;case"testcase":className="test-case";break;case"defectsuite":className="defect-suite";break;case"testset":className="test-set";break;case"portfolioitem":className="portfolioitem"}return className?'<span class="artifact-icon icon-'+className+'"></span>':className}})})();
                (function(){var Ext=window.Ext4||window.Ext,wsapiMaxPageSize=200;Ext.define("Rally.data.wsapi.TreeStore",{requires:["Deft.promise.Deferred","Rally.data.ModelFactory"],extend:"Ext.data.TreeStore",alias:"store.rallywsapitreestore",mixins:{messageable:"Rally.Messageable",findRecords:"Rally.data.WsapiFindRecords",recordUpdatable:"Rally.data.wsapi.RecordUpdatable",clientMetrics:"Rally.clientmetrics.ClientMetricsRecordable"},statics:{wsapiMaxPageSize:wsapiMaxPageSize,expandedCollectionNames:{hierarchicalrequirement:["Children","Defects","Tasks","TestCases"],defect:["Tasks","TestCases"],defectsuite:["Defects","Tasks"],testset:["Tasks","TestCases"]},childToParentTypeMap:{defect:["DefectSuite","Requirement"],hierarchicalrequirement:["Parent","PortfolioItem"],task:["WorkProduct"],testcase:["WorkProduct"]},parentChildTypeMap:{hierarchicalrequirement:[{typePath:"defect",collectionName:"Defects"},{typePath:"hierarchicalrequirement",collectionName:"Children"},{typePath:"task",collectionName:"Tasks"},{typePath:"testcase",collectionName:"TestCases"}],defect:[{typePath:"task",collectionName:"Tasks"},{typePath:"testcase",collectionName:"TestCases"}],defectsuite:[{typePath:"task",collectionName:"Tasks"},{typePath:"testcase",collectionName:"TestCases"}],testset:[{typePath:"task",collectionName:"Tasks"},{typePath:"testcase",collectionName:"TestCases",customTraversal:"TestSet"}]},isParentType:function(parentType){return _.has(this.parentChildTypeMap,parentType)},getChildModelTypePaths:function(parentTypes){return _.reduce(Ext.Array.from(parentTypes),function(childTypes,parentType){return _.union(childTypes,_.pluck(this.parentChildTypeMap[parentType],"typePath"))},[],this)}},currentPage:1,pageSize:25,context:void 0,wsapiVersion:void 0,nodeParam:void 0,model:void 0,parentTypes:[],fetch:void 0,enableHierarchy:!1,childLevelSorters:[],expandingNodesRespectProjectScoping:!0,_getModelFromTypePath:function(typePath){return this.modelTypePathMap||(this.modelTypePathMap=_.transform(this.models,function(r,m){r[m.typePath]=m},{},this)),this.modelTypePathMap[typePath]},constructor:function(config){this.callParent(arguments),0!==this.parentTypes.length&&this.model||Ext.Error.raise("You must configure the tree store with parentTypes and a model"),this.enableHierarchy&&(this.childLevelSorters=[{property:"TaskIndex",direction:"ASC"},{property:Rally.data.Ranker.getRankField(this.model),direction:"ASC"}]),this.fetch=this._buildFetch(this.fetch,this.model),this.addEvents("error","currentPageReset","parenttypeschange"),this._decorateModels(),this.on("beforeexpand",this.onBeforeExpandNode,this),this.on("load",function(){this.expandingNode=null},this)},onBeforeExpandNode:function(node,eOpts){this.expandingNode=node},isHierarchyEnabled:function(){return this.enableHierarchy===!0},setRootNode:function(root,preventLoad){this.tree.on("rootchange",this._decorateModels,this,{single:!0}),this.callParent([root,preventLoad||!this.autoLoad])},setParentTypes:function(parentTypes){this.parentTypes=_.map(Ext.Array.from(parentTypes),function(t){return t.toLowerCase()}),this.fireEvent("parenttypeschange",this.parentTypes)},remove:function(records){_.invoke(Ext.Array.from(records),"remove")},indexOf:function(record){return this.getRootNode().indexOf(record)},insert:function(index,records){_.each(Ext.Array.from(records),function(record){this.getRootNode().insertChild(index,record)},this)},getAllParentFieldTypes:function(){var parentFieldNames=[];this.enableHierarchy&&_.each(this.getChildTypes(),function(type){parentFieldNames=_.union(parentFieldNames,this.getParentFieldTypesByChildType(type.toLowerCase()))},this);var entp=this.getExpandingNodeTypePath().toLowerCase();return"hierarchicalrequirement"===entp&&(parentFieldNames=_.difference(parentFieldNames,["PortfolioItem"])),entp.indexOf("portfolioitem")>=0&&_.contains(this.getChildTypes(),"hierarchicalrequirement")&&(parentFieldNames=["PortfolioItem"]),parentFieldNames},getParentFieldTypesByChildType:function(childType){var model=this._getModelFromTypePath(childType);return _.filter(this.self.childToParentTypeMap[childType.toLowerCase()],function(field){return _.isFunction(this.model.getArtifactComponentModel)?this.model.getArtifactComponentModel(field)||model.hasField(field):model.hasField(field)},this)},getExpandingNodeTypePath:function(){var r=this.parentTypes[0];return this.expandingNode&&!this.isRootNode(this.expandingNode)&&(r=this.expandingNode.get("_type")),r.toLowerCase()},getChildTypes:function(){return this.enableHierarchy?this.expandingNode&&this.isRootNode(this.expandingNode)?this.parentTypes:this.self.getChildModelTypePaths(Ext.Array.from(this.getExpandingNodeTypePath())):[]},_getModelTypePaths:function(){return _.isFunction(this.model.getArtifactComponentModels)?_.pluck(this.model.getArtifactComponentModels(),"typePath"):[this.model.typePath]},isRootNode:function(node){return _.isEmpty(node)||isNaN(node.get("ObjectID"))},_getCollectionFetchNames:function(){var collectionFetchNames=[];return this.isRootNode(this.expandingNode)?_.each(Ext.Array.from(this.parentTypes),function(type){collectionFetchNames=_.union(collectionFetchNames,this.self.expandedCollectionNames[type.toLowerCase()])},this):_.each(Ext.Array.from(this.getChildTypes()),function(type){collectionFetchNames=_.union(collectionFetchNames,_.pluck(this.self.parentChildTypeMap[type],"collectionName"))},this),collectionFetchNames},_decorateModels:function(){_.isFunction(this.model.getArtifactComponentModels)&&_.each(this.model.getArtifactComponentModels(),Ext.data.NodeInterface.decorate,Ext.data.NodeInterface)},_errors:[],load:function(options){this.recordLoadBegin({description:"tree store load",component:this.requester}),this._hasErrors=!1,this.on("beforeload",function(store,operation){delete operation.id},this,{single:!0}),options=this._configureLoad(options);var deferred=Ext.create("Deft.Deferred"),originalCallback=options.callback,me=this;return options.callback=function(records,operation,success){me.dataLoaded=!0,Ext.callback(originalCallback,options.scope||me,arguments),options.callback=originalCallback,success?deferred.resolve(records,operation):deferred.reject(operation)},this.callParent([options]),deferred.promise},_configureLoad:function(options){if(options=options||{},Ext.isFunction(options)&&(options={callback:options}),this.isRootNode(options.node)?(this._configureProxy(!0),this._configureTopLevelLoad(options)):(this.enableHierarchy||Ext.Error.raise("You cannot load child nodes if hierarchy is not enabled."),this._configureProxy(!1),this._configureChildLoad(options)),options.useShallowFetch=!0,options.fetch=options.fetch||this._buildFetch(this.fetch,this.model),options.fetch=!0,this.expandingNodesRespectProjectScoping||this.isRootNode(this.expandingNode)||_.contains(this.parentTypes,this.getExpandingNodeTypePath())&&!this.expandingNode?options.context=this.context:(options.context=this.context,options.context||(options.context=Rally.getApp().getContext().getDataContext()),options.context.project=null),options.requester=this,options.clearOnLoad===!1){var clearOnLoad=this.clearOnLoad;this.clearOnLoad=!1,this.on("load",function(){this.clearOnLoad=clearOnLoad},this,{single:!0})}return options},_configureChildLoad:function(options){options.filters=this._getChildNodeFilters(options.node),options.sorters=this.childLevelSorters||[{property:Rally.data.Ranker.getRankField(this.model),direction:"ASC"}]},_configureTopLevelLoad:function(options){options.params=options.params||{},options.params.pagesize=this.pageSize,options.params.start=this.pageSize*(this.currentPage-1)},_getChildNodeFilters:function(node){var childItemTypes=this.self.parentChildTypeMap[node.get("_type")],customTraversal=[];return childItemTypes&&_.each(childItemTypes,function(childType){childType.hasOwnProperty("customTraversal")&&customTraversal.push(childType.customTraversal)}),[Rally.data.wsapi.Filter.or(_.map(_.union(this.getAllParentFieldTypes(),customTraversal),function(name){return{property:name,operator:"=",value:node.get("_ref")}}))]},filter:function(filters){this.filters.addAll(filters),this._resetCurrentPage(),this.load()},clearFilter:function(suppressEvent){this._resetCurrentPage(),this.filters.clear(),suppressEvent||this.load()},getAt:function(id){return this.getNodeById(id)},getTotalCount:function(){return this.totalCount},nextPage:function(){this._setCurrentPage(this.currentPage+1),this.load()},previousPage:function(){this._setCurrentPage(this.currentPage-1),this.load()},loadPage:function(pageNum){this._setCurrentPage(pageNum),this.load()},_setCurrentPage:function(pageNum){var maxPage=Math.ceil(this.getTotalCount()/this.pageSize);this.currentPage=Math.min(Math.max(pageNum,1),maxPage)},_resetCurrentPage:function(){this.dataLoaded===!0&&(this.fireEvent("currentpagereset"),this.currentPage=1)},_hasErrors:!1,hasErrors:function(){return this._hasErrors},onProxyLoad:function(operation){if(operation.error&&operation.error.errors&&operation.error.errors.length>0)this._hasErrors=!0,this.fireEvent("error",operation.error.errors);else{var resultSet=operation.getResultSet();if(resultSet&&(_.each(resultSet.records,this._instrumentRecord,this),this.isRootNode(operation.node)&&(this.totalCount=resultSet.total,this.totalCount>0&&0===resultSet.count&&this._attemptingToResetCurrentPage!==!0)))return this._attemptingToResetCurrentPage=!0,this._resetCurrentPage(),this.load(),void 0}if(this._attemptingToResetCurrentPage=!1,!(this.clearOnLoad||operation.node&&operation.node!==this.getRootNode())){var recordsById=_.indexBy(operation.getRecords(),function(record){return record.getId()});_.each(Ext.clone(operation.node.childNodes),function(childNode){var record=recordsById[childNode.getId()];if(record){if(record.get("VersionId")!==childNode.get("VersionId")){var newData=_(record.raw).keys().reduce(function(accum,key){return accum[key]=record.get(key),accum},{});childNode.set(newData),childNode.commit()}}else childNode.remove(!1)})}this.recordLoadEnd(),this.recordLoadBegin({description:"tree store after load callParent"}),this.callParent(arguments),_.each(operation.node.childNodes,function(node){node.childNodes=[],node.data.loaded=!1}),this.recordLoadEnd(),this.ownerTree&&this.ownerTree.fireEvent("afterproxyload")},each:function(fn,scope){this._treeWalkingEach(fn,this.tree.root,scope,!0)},_treeWalkingEach:function(fn,node,scope,ignoreNode){return _.each(node.childNodes,function(childNode){return this._treeWalkingEach(fn,childNode,scope)===!1?!1:void 0},this),ignoreNode!==!0?fn.call(scope||node,node):!0},getNodeById:function(id){return this.callParent(arguments)||this.findExactRecord(id)},findExactRecord:function(record){var recordId=Rally.util.Ref.getOidFromRef(record)||record;return this.getRootNode().findChild(this.model.prototype.idProperty,recordId,!0)},reloadRecord:function(record,options){options=options||{};var deferred=Ext.create("Deft.promise.Deferred"),operationConfig=Ext.merge({action:"read",limit:1,requester:this,context:this.context,filters:[{property:"ObjectID",value:record.getId()}],params:{}},options),modelToLoadFrom,recordTypePath;return _.isFunction(this.model.getArtifactComponentModels)?(recordTypePath=record.self.typePath,this.model.getArtifactComponentModel(recordTypePath.toLowerCase())?(modelToLoadFrom=this.model,operationConfig.params.types=recordTypePath):modelToLoadFrom=record.self):modelToLoadFrom=record.self,operationConfig.useShallowFetch=!0,operationConfig.fetch=this.fetch?_.union(this.fetch,_.pluck(modelToLoadFrom.getAssociationFields(),"name")):this._buildFetch(this.fetch,modelToLoadFrom),record.parentNode===this.getRootNode()&&(operationConfig.filters=operationConfig.filters.concat(this.filters.getRange())),modelToLoadFrom.getProxy().read(Ext.create("Ext.data.Operation",operationConfig),function(op){if(op.wasSuccessful()&&op.getRecords()&&op.getRecords().length){var record=op.getRecords()[0];this._instrumentRecord(record),Ext.callback(options.success,options.scope,[record]),deferred.resolve(record)}else Ext.callback(options.failure,options.scope,[op]),deferred.reject(op)},this),deferred.promise},doesRecordMatchStoreFilters:function(record){var deferred=Ext.create("Deft.promise.Deferred"),operation=new Ext.data.Operation({action:"read",fetch:!1,params:{query:""+Rally.data.wsapi.Filter.and(this.filters.getRange().concat([new Rally.data.wsapi.Filter({property:"ObjectID",operator:"=",value:Rally.util.Ref.getOidFromRef(record)})]))},limit:1,requester:this}),callback=function(operation){deferred.resolve(!_.isEmpty(operation.getRecords()))};return this.proxy.setExtraParam("types",this._getTypesForLevel(!0)),this.model.getProxy().read(operation,callback,this),deferred.promise},doesRecordMatchChildTypes:function(record){return _(this.getChildTypes()).invoke("toLowerCase").contains(record.self.typePath.toLowerCase())},_configureProxy:function(forTopLevel){this.proxy=this.model.getProxy();var types=_.isFunction(this.model.getArtifactComponentModels)?this._getTypesForLevel(forTopLevel):this.model.elementName;this.proxy.setExtraParam("types",types)},_getTypesForLevel:function(forTopLevel){var types;return types=forTopLevel?this.parentTypes.join(","):this.getChildTypes().join(",")},_instrumentRecord:function(record){var leafCount=this._getLeafCount(record),isLeaf=1>leafCount||!this.enableHierarchy;record.set("leaf",isLeaf),record.set("leafCount",leafCount)},_getLeafCount:function(record){var typePath=record.get("_type").toLowerCase(),expandedCollectionNames=Ext.Array.from(this.self.expandedCollectionNames[typePath]);return _.reduce(expandedCollectionNames,function(accumulator,collectionName){var collectionVal=record.get(collectionName);return collectionVal&&collectionVal.Count&&(accumulator+=collectionVal.Count),accumulator},0)},_buildFetch:function(fetch,model){return fetch===!0?fetch:(fetch||(fetch=_.pluck(model.getNonCollectionFields(),"name")),fetch=_.union(_.isArray(fetch)?fetch:fetch.split(","),["ObjectID","VersionId"]),this.enableHierarchy&&fetch!==!0&&(fetch=_.union(fetch,this._getCollectionFetchNames(),this.getAllParentFieldTypes())),_.filter(fetch,function(f){return void 0!==f}))},setFetch:function(fetch){this.fetch=this._buildFetch(fetch)}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.data.wsapi.TreeStoreBuilder",{extend:"Rally.data.DataStoreBuilder",requires:["Rally.data.wsapi.TreeStore","Rally.data.ModelFactory"],build:function(config){return config=_.clone(config||{}),config.storeType="Rally.data.wsapi.TreeStore",this.callParent([config])},loadModels:function(config){return this.callParent([config]).then({success:function(models){var pis=[];return _.each(models,function(model){var typePath=model.typePath.toLowerCase();model.isPortfolioItem()&&(Rally.data.wsapi.TreeStore.expandedCollectionNames[typePath]=["Children"],Rally.data.wsapi.TreeStore.childToParentTypeMap[typePath]=["Parent"],pis[model.ordinal]=model,model.isLowestLevelPortfolioItem()&&(Rally.data.wsapi.TreeStore.expandedCollectionNames[typePath]=["UserStories"],Rally.data.wsapi.TreeStore.parentChildTypeMap[typePath]=[{typePath:"hierarchicalrequirement",collectionName:"UserStories"}]))}),_.each(pis,function(model){if(model){var typePath=model.typePath.toLowerCase(),pm=pis[model.ordinal+1];pm&&(Rally.data.wsapi.TreeStore.parentChildTypeMap[pm.typePath.toLowerCase()]=[{typePath:typePath,collectionName:"Children"}])}}),this._setupTreeModel(this._getComponentModels(models),config)},scope:this})},_getComponentModels:function(models){return _.reduce(models,function(result,model){return _.isFunction(model.getArtifactComponentModels)?result.concat(model.getArtifactComponentModels()):result.concat(model)},[])},_setupTreeModel:function(models,config){var modelsToLoad=[];return config.parentTypes=this._getParentTypes(models,config),config.enableHierarchy&&(modelsToLoad=_.filter(this._getChildModelsToLoad(config),function(m){return void 0!==m})),modelsToLoad.length>0?this._loadChildModels(modelsToLoad,models,config):Deft.Promise.when(models)},_getChildModelsToLoad:function(config){return _.difference(Rally.data.wsapi.TreeStore.getChildModelTypePaths(config.parentTypes),config.parentTypes)},_loadChildModels:function(modelsToLoad,loadedModels,config){return Rally.data.ModelFactory.getModels({context:config.context,types:modelsToLoad,requester:config.requester||this}).then({success:function(newModels){return _.union(loadedModels,_.values(newModels))}})},_getParentTypes:function(models,config){var parentTypes=_.pluck(models,"typePath");return config.enableHierarchy&&(parentTypes=_.filter(parentTypes,Rally.data.wsapi.TreeStore.isParentType,Rally.data.wsapi.TreeStore)),parentTypes}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.BannerWidget",{extend:"Ext.Component",alias:"widget.bannerwidget",config:{expanded:!0},cls:"stat-panel",data:{},tpl:['<div class="expanded-widget"></div>','<div class="collapsed-widget"></div>'],onRender:function(){this.expanded?this.removeCls("collapsed"):this.addCls("collapsed"),this.callParent(arguments)},expand:function(){this.removeCls("collapsed"),this.setExpanded(!0)},collapse:function(){this.addCls("collapsed"),this.setExpanded(!1)}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.Gauge",{extend:"Rally.apps.releasetracking.statsbanner.BannerWidget",alias:"widget.statsbannergauge",requires:["Rally.ui.chart.Chart","Rally.util.Timebox","Rally.util.Colors"],config:{context:null,store:null},onDataChanged:Ext.emptyFn,getChartEl:Ext.emptyFn,_getChartConfig:Ext.emptyFn,_tzOffsetPromises:{},initComponent:function(){this.mon(this.store,"datachanged",this.onDataChanged,this),this.callParent(arguments)},expand:function(){this.callParent(),this.chart?this.chart.doLayout():this._addChart(this._getChartConfig({}))},onRender:function(){this.callParent(arguments),this.getContext().getTimeboxScope().getRecord()||this._addEmptyChart()},_addEmptyChart:function(){this._cleanupChart(),this._addChart({chartData:{series:[{data:[{name:"",y:100,color:Rally.util.Colors.grey1}]}]}})},_cleanupChart:function(){this.chart&&(this.chart.destroy(),delete this.chart)},onDestroy:function(){this._cleanupChart(),this.callParent(arguments)},onResize:function(){this.chart&&!this.getEl().up(".stats-banner.collapsed")&&this.chart.updateLayout(),this.callParent(arguments)},refreshChart:function(chartConfig){Ext.suspendLayouts(),this._cleanupChart(),this.rendered&&this.expanded&&this._addChart(chartConfig),Ext.resumeLayouts(),this.fireEvent("ready",this)},_addChart:function(chartConfig){var height=62;this.chart=Ext.create("Rally.ui.chart.Chart",Ext.apply({loadMask:!1,renderTo:this.getChartEl(),cls:"gauge",chartConfig:{chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",defaultSeriesType:"pie",height:height,spacingTop:0,spacingRight:0,spacingBottom:0,spacingLeft:0},plotOptions:{pie:{borderWidth:0,center:["50%","50%"],dataLabels:{enabled:!1},size:height-4,innerSize:height-14,enableMouseTracking:!1,shadow:!1}},title:"",tooltip:{enabled:!1}}},chartConfig))},getTimeboxData:function(){return this._getTZOffset().then({success:function(tzOffset){var timebox=this.getContext().getTimeboxScope().getRecord();return timebox?Rally.util.Timebox.getCounts(timebox.get("ReleaseStartDate"),timebox.get("ReleaseDate"),this.getContext().getWorkspace().WorkspaceConfiguration.WorkDays,tzOffset):{remaining:0,workdays:0}},scope:this})},_getTZOffset:function(){var projectRef=Rally.util.Ref.getRelativeUri(this.getContext().getProject());if(!Ext.isDefined(this._tzOffsetPromises[projectRef])){var deferred=this._tzOffsetPromises[projectRef]=Ext.create("Deft.Deferred");Rally.environment.getIoProvider().httpGet({url:Rally.environment.getServer().getWsapiUrl()+"/iteration",params:{includeSchema:!0,pagesize:1,fetch:!1,project:projectRef},success:function(results){deferred.resolve((results.Schema.properties.EndDate.format.tzOffset||0)/60)},requester:this,scope:this})}return this._tzOffsetPromises[projectRef]},getAcceptanceData:function(){var acceptanceData={accepted:0,total:0,acceptedCount:0,count:0};return _.each(this.store.getRange(),function(rec){acceptanceData.accepted+=rec.get("AcceptedLeafStoryPlanEstimateTotal"),acceptanceData.total+=rec.get("LeafStoryPlanEstimateTotal"),acceptanceData.acceptedCount+=rec.get("AcceptedLeafStoryCount"),acceptanceData.count+=rec.get("LeafStoryCount")}),Deft.Promise.when(acceptanceData)},getEstimatedData:function(){var acceptanceData={accepted:0,total:0};return _.each(this.store.getRange(),function(rec){acceptanceData.accepted+=rec.get("LeafStoryCount")-rec.get("UnEstimatedLeafStoryCount"),acceptanceData.total+=rec.get("LeafStoryCount")}),Deft.Promise.when(acceptanceData)},_getScheduleStates:function(){return this._scheduleStates?Deft.Promise.when(this._scheduleStates):this.store.model.getField("ScheduleState").getAllowedValueStore().load().then({success:function(records){return this._scheduleStates=_.map(records,function(record){return record.get("StringValue")}),this._scheduleStates},scope:this,requester:this})}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.PlannedVelocity",{extend:"Rally.apps.releasetracking.statsbanner.Gauge",alias:"widget.statsbannerplannedvelocity",require:["Rally.util.Colors"],tpl:['<div class="expanded-widget">','<div class="stat-title">Planned Velocity</div>','<div class="stat-metric">','<div class="metric-chart"></div>','<div class="metric-chart-text percent-offset">','{percentage}<div class="metric-percent">%</div>',"</div>",'<div class="metric-subtext">{estimate} of {plannedVelocity} {unit}</div>',"</div>","</div>",'<div class="collapsed-widget">','<div class="stat-title">Planned Velocity</div>','<div class="stat-metric">{percentage}<span class="metric-percent">%</span></div>',"</div>"],config:{data:{percentage:0,estimate:0,plannedVelocity:0,unit:""}},onDataChanged:function(){var renderData=this._getRenderData();this.update(renderData),this.refreshChart(this._getChartConfig(renderData))},getChartEl:function(){return this.getEl().down(".metric-chart")},_getTimeboxUnits:function(){return"iteration"===this.getContext().getTimeboxScope().getType()?this.getContext().getWorkspace().WorkspaceConfiguration.IterationEstimateUnitName:this.getContext().getWorkspace().WorkspaceConfiguration.ReleaseEstimateUnitName},_getRenderData:function(){var estimate=_.reduce(this.store.getRange(),function(accum,record){return accum+(record.get("PreliminaryEstimate")&&record.get("PreliminaryEstimate").Value)||0},0);estimate=Math.round(100*estimate)/100;var timeboxRecord=this.getContext().getTimeboxScope().getRecord(),plannedVelocity=timeboxRecord&&timeboxRecord.get("PlannedVelocity")||0,percentage=0===plannedVelocity?0:Math.round(100*(estimate/plannedVelocity)),data={estimate:estimate,percentage:percentage,plannedVelocity:plannedVelocity,unit:this.unitLabel?this.unitLabel:this._getTimeboxUnits()};return data},_getChartConfig:function(renderData){var percentage=renderData.percentage,percentagePlanned=percentage%100||100,color=Rally.util.Colors.cyan_med,secondaryColor=Rally.util.Colors.grey1;return percentage>100?(color=Rally.util.Colors.blue,secondaryColor=Rally.util.Colors.cyan):percentage>70?color=Rally.util.Colors.cyan:0===percentage&&(color=Rally.util.Colors.grey1),{chartData:{series:[{data:[{name:"Planned Estimate Total",y:percentagePlanned,color:color},{name:"",y:100-percentagePlanned,color:secondaryColor}]}]}}}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.TimeboxEnd",{extend:"Rally.apps.releasetracking.statsbanner.Gauge",alias:"widget.statsbannertimeboxend",requires:["Rally.util.Timebox","Rally.util.Colors"],tpl:['<div class="expanded-widget">','<div class="stat-title">{type} End</div>','<div class="stat-metric">','<div class="metric-chart"></div>','<div class="metric-chart-text">',"{remaining}","</div>",'<div class="metric-subtext">days left of {workdays}</div>',"</div>","</div>",'<div class="collapsed-widget">','<div class="stat-title">{type} End</div>','<div class="stat-metric">{remaining}<span class="stat-metric-secondary"> days</span></div>',"</div>"],config:{data:{type:"Release",remaining:0,workdays:0}},onDataChanged:function(){Deft.Promise.all([this.getAcceptanceData(),this.getTimeboxData()]).then({success:this._onDataAssembled,scope:this})},getChartEl:function(){return this.getEl().down(".metric-chart")},_getRenderData:function(){var data=_.merge({type:Ext.String.capitalize(this.getContext().getTimeboxScope().getType())},this.acceptanceData,this.timeboxData);return data},_onDataAssembled:function(results){this.acceptanceData=results[0],this.timeboxData=results[1];var renderData=this._getRenderData();this.update(renderData),this.refreshChart(this._getChartConfig(renderData))},_getChartConfig:function(renderData){var decimal=renderData.remaining/renderData.workdays,percentLeft=1>decimal?Math.round(100*decimal):0,color=Rally.util.Colors.cyan;return 0===renderData.total?color=Rally.util.Colors.grey1:0===percentLeft?color=renderData.accepted===renderData.total?Rally.util.Colors.lime:Rally.util.Colors.blue:25>=percentLeft&&(color=Rally.util.Colors.blue),{chartData:{series:[{data:[{name:"Days Done",y:100-percentLeft,color:color},{name:"Days Left",y:percentLeft,color:Rally.util.Colors.grey1}]}]}}}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.popover.LateStories",{alias:"widget.latestoriespopover",extend:"Rally.ui.popover.Popover",constructor:function(config){config.items=[{xtype:"rallygrid",model:"User Story",headerCls:"leftright-header-text",columnCfgs:["FormattedID","Name","Feature","Plan Estimate","Iteration","Release","Project","Owner"],pagingToolbarCfg:{pageSizes:[5,10,15]},store:config.store}],this.callParent(arguments)}}),Ext.define("Rally.apps.releasetracking.statsbanner.LateStories",{extend:"Rally.apps.releasetracking.statsbanner.BannerWidget",alias:"widget.statsbannerlatestories",requires:[],config:{context:null,store:null,data:{activeCount:0}},tpl:['<div class="expanded-widget">','<span style="cursor: pointer">','<div class="stat-title">Late Stories</div>','<div class="stat-metric">','<div class="metric-icon icon-story"></div>{activeCount}','<div class="stat-secondary">Late</div>',"</span>","</div>","</div>",'<div class="collapsed-widget">','<span class="metric-icon icon-story"></span>','<div class="stat-title">Late Stories</div>','<div class="stat-metric">{activeCount}</div>',"</div>"],initComponent:function(){this.mon(this.store,"datachanged",this.onDataChanged,this),this.on("render",function(){this.getEl().on("click",function(){this._onClickLateStories()},this)},this),this.callParent(arguments)},onDataChanged:function(){this.update(this._getRenderData()),this.fireEvent("ready",this)},_getLateStoriesCount:function(){var lateStories=0;return _.each(this.store.getRange(),function(record){lateStories+=record.get("LateChildCount")},this),lateStories},_getRenderData:function(){return{activeCount:this._getLateStoriesCount()}},_onClickLateStories:function(){var record=this.store.getAt(0),filters=this._filterPopover(record.data),target=this.getEl(),store=Ext.create("Rally.data.wsapi.Store",{model:"UserStory",fetch:["FormattedID","Name","Feature","Release","Iteration","Project","Owner"],filters:filters,autoLoad:!0,pageSize:5}),reloadStoreCallback;Ext.create("Rally.apps.releasetracking.statsbanner.popover.LateStories",{target:target,autoShow:!1,record:record,store:store,headerTitle:"User Stories Assigned to Later Releases or Iteration",width:800}).show()},_filterPopover:function(record){return[{property:"Feature.Release.Name",operator:"=",value:record.Release.Name},{property:"DirectChildrenCount",operator:"=",value:0},Rally.data.wsapi.Filter.or([{property:"Iteration.EndDate",operator:">",value:record.Release.ReleaseDate},{property:"Release.ReleaseDate",operator:">",value:record.Release.ReleaseDate}])]}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.Accepted",{extend:"Rally.apps.releasetracking.statsbanner.Gauge",alias:"widget.statsbanneraccepted",requires:["Rally.util.Colors"],tpl:['<div class="expanded-widget">','<div class="stat-title">Accepted Stories</div>','<div class="stat-metric">','<div class="metric-chart"></div>','<div class="metric-chart-text percent-offset">','{percentage}<div class="metric-percent">%</div>',"</div>",'<div class="metric-subtext">{accepted} of {total} {unit}</div>',"</div>","</div>",'<div class="collapsed-widget">','<div class="stat-title">Accepted Stories</div>','<div class="stat-metric">{percentage}<span class="metric-percent">%</span></div>',"</div>"],config:{data:{percentage:0,accepted:0,total:0,unit:""}},onDataChanged:function(){Deft.Promise.all([this.getAcceptanceData(),this.getTimeboxData()]).then({success:this._onDataAssembled,scope:this})},getChartEl:function(){return this.getEl().down(".metric-chart")},_getTimeboxUnits:function(){return"iteration"===this.getContext().getTimeboxScope().getType()?this.getContext().getWorkspace().WorkspaceConfiguration.IterationEstimateUnitName:this.getContext().getWorkspace().WorkspaceConfiguration.ReleaseEstimateUnitName},_getRenderData:function(){var data=_.merge({unit:this._getTimeboxUnits()},this.acceptanceData,this.timeboxData);return this.byCount?(data.accepted=Ext.util.Format.round(data.acceptedCount,2),data.total=Ext.util.Format.round(data.count,2),data.unit=""):(data.accepted=Ext.util.Format.round(data.accepted,2),data.total=Ext.util.Format.round(data.total,2)),data.percentage=Math.round(100*(data.accepted/data.total))||0,data},_onDataAssembled:function(results){this.acceptanceData=results[0],this.timeboxData=results[1];var renderData=this._getRenderData();this.update(renderData),this.refreshChart(this._getChartConfig(renderData))},_getChartConfig:function(renderData){var color=Rally.util.Colors.cyan,daysRemaining=renderData.remaining/renderData.workdays,percentage=renderData.percentage;return 100===percentage?color=Rally.util.Colors.lime:0===daysRemaining&&(color=Rally.util.Colors.blue),{chartData:{series:[{data:[{name:"Accepted Stories",y:percentage,color:color},{name:"",y:100-percentage,color:Rally.util.Colors.grey1}]}]}}}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.EstimatedStories",{extend:"Rally.apps.releasetracking.statsbanner.Gauge",alias:"widget.statsbannerestimatedstories",requires:["Rally.util.Colors"],tpl:['<div class="expanded-widget">','<div class="stat-title">Estimated Stories</div>','<div class="stat-metric">','<div class="metric-chart"></div>','<div class="metric-chart-text percent-offset">','{percentage}<div class="metric-percent">%</div>',"</div>",'<div class="metric-subtext">{accepted} of {total} {unit}</div>',"</div>","</div>",'<div class="collapsed-widget">','<div class="stat-title">Estimated Stories</div>','<div class="stat-metric">{percentage}<span class="metric-percent">%</span></div>',"</div>"],config:{data:{percentage:0,accepted:0,total:0,unit:""}},onDataChanged:function(){Deft.Promise.all([this.getEstimatedData(),this.getTimeboxData()]).then({success:this._onDataAssembled,scope:this})},getChartEl:function(){return this.getEl().down(".metric-chart")},_getTimeboxUnits:function(){return""},_getRenderData:function(){var data=_.merge({unit:this._getTimeboxUnits()},this.acceptanceData,this.timeboxData);return data.accepted=Ext.util.Format.round(data.accepted,2),data.total=Ext.util.Format.round(data.total,2),data.percentage=Math.round(100*(data.accepted/data.total))||0,data},_onDataAssembled:function(results){this.acceptanceData=results[0],this.timeboxData=results[1];var renderData=this._getRenderData();this.update(renderData),this.refreshChart(this._getChartConfig(renderData))},_getChartConfig:function(renderData){var color=Rally.util.Colors.cyan,daysRemaining=renderData.remaining/renderData.workdays,percentage=renderData.percentage;return 100===percentage?color=Rally.util.Colors.lime:0===daysRemaining&&(color=Rally.util.Colors.blue),{chartData:{series:[{data:[{name:"Accepted Stories",y:percentage,color:color},{name:"",y:100-percentage,color:Rally.util.Colors.grey1}]}]}}}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.iterationprogresscharts.IterationProgressMixin",{requires:["Rally.ui.chart.Chart"],_configureYAxis:function(ticks,axis){for(var intervalY=(this.chartComponentConfig.chartConfig.yAxis[axis].max-0)/(ticks-1),ticksY=[],i=0;ticks>i;i++)ticksY.push(i*intervalY);this.chartComponentConfig.chartConfig.yAxis[axis].tickPositions=ticksY},_configureYAxisIntervals:function(){var ticks=5;this._configureYAxis(ticks,0),"burndown"===this.chartType&&this._configureYAxis(ticks,1)},_getElementValue:function(element){return void 0!==element.textContent?element.textContent:element.text},_getStringValues:function(elements){var i,strings=[];for(i=0;elements.length>i;i++)strings.push(this._getElementValue(elements[i]));return strings},_getNumberValues:function(elements){var i,numbers=[];for(i=0;elements.length>i;i++)this._getElementValue(elements[i])?numbers.push(1*this._getElementValue(elements[i]).split(" ")[0]):numbers.push(0);return numbers},_computeMaxYAxisValue:function(series){var i,j,max=0;for(i=0;series[0].data.length>i;i++){var val=0;for(j=0;series.length>j;j++)series[j].data.length===series[0].data.length&&(val+=series[j].data[i]);val>max&&(max=val)}return max=4*Math.ceil(max/4),0===max?4:max},_createChartDatafromXML:function(xml){var parseXml;if(window.DOMParser!==void 0)parseXml=function(xmlStr){return(new window.DOMParser).parseFromString(xmlStr,"text/xml")};else{if(void 0===window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))throw Error("No XML parser found");parseXml=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");return xmlDoc.async="false",xmlDoc.loadXML(xmlStr),xmlDoc}}return parseXml(xml)}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.iterationprogresscharts.IterationProgressChart",{requires:["Rally.ui.chart.Chart"],chartComponentConfig:{xtype:"rallychart",suppressClientMetrics:!0}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.iterationprogresscharts.PieChart",{alias:"widget.statsbannerpiechart",extend:"Ext.Container",requires:["Rally.ui.chart.Chart"],mixins:{recordable:"Rally.clientmetrics.ClientMetricsRecordable"},currentScope:void 0,height:void 0,width:void 0,displayTitle:"Pie",config:{context:null},initComponent:function(){this.callParent(arguments),void 0===this._storyStates?Rally.data.ModelFactory.getModels({types:["UserStory"],context:this.getContext(),scope:this,requester:this,success:function(models){models.UserStory.getField("ScheduleState").getAllowedValueStore().load({callback:this._createStateMap,requester:this,scope:this})}}):this._loadArtifacts()},_createStateMap:function(allowedValues){var stateMap=["Defined","In-Progress","Completed"],stateMapIndex=0,storyStates={};_.each(allowedValues,function(value){var state=value.data.StringValue;state&&(state===stateMap[stateMapIndex+1]&&stateMapIndex++,storyStates[state]=stateMap[stateMapIndex])}),this._storyStates=storyStates,this._loadArtifacts()},_loadArtifacts:function(){this._chartData=[],this._childChartData=[],this.store=Ext.create("Rally.data.wsapi.artifact.Store",{models:["PortfolioItem/Feature"],fetch:["UserStories","PreliminaryEstimate","Value","FormattedID","State[Ordinal;Name]","LeafStoryCount","Name","PlannedEndDate","PlannedStartDate","ActualStartDate","ActualEndDate","PercentDoneByStoryPlanEstimate","PercentDoneByStoryCount"],filters:[this.context.getTimeboxScope().getQueryFilter()],context:this.context.getDataContext(),limit:1/0,requester:this,autoLoad:!0,listeners:{load:this._loadChildCollections,scope:this}})},_loadChildCollections:function(){var records=this.store.getRange(),promises=[];_.each(records,function(record){if(record.get("UserStories")&&record.get("UserStories").Count){var store=Ext.create("Rally.data.wsapi.Store",{model:"UserStory",fetch:["FormattedID","Name","ScheduleState","Blocked","BlockedReason","Feature"],filters:[{property:"Feature",value:record.get("_ref")},{property:"DirectChildrenCount",value:0}]});promises.push(store.load({requester:this,callback:function(stories){record.get("UserStories").Results=stories}}))}}),promises.length>0?Deft.Promise.all(promises).then({success:this._onAllDataLoaded,scope:this}):this._onAllDataLoaded()},_onAllDataLoaded:function(){_.each(this.store.getRange(),function(record){var stories=record.get("UserStories"),relatedCount=record.get("LeafStoryCount"),planEstimate=record.get("PreliminaryEstimate")&&record.get("PreliminaryEstimate").Value||1,pointSizeForChildren=planEstimate/relatedCount||1,nullPointString="No stories.";this._addPointForTopLevelItem(record,relatedCount),0===relatedCount?this._childChartData.push({name:nullPointString,y:planEstimate,color:"#FFF",rallyName:null,status:"",blocked:!1,blockedReason:"",hasChildren:!1,relatedCount:0,ref:null,parentFormattedID:null}):stories&&stories.Results&&_.each(stories.Results,function(story){this._addPointForChildItem(story,record.get("FormattedID"),pointSizeForChildren)},this)},this);var chart=this._createChartConfig();this.add(chart),this.recordLoadEnd()},_onLoad:function(){this.fireEvent("contentupdated",this),this.fireEvent("ready",this),Rally.BrowserTest&&Rally.BrowserTest.publishComponentReady(this)},_createChartConfig:function(overrides){var clickChartHandler=_.isFunction(this.clickHandler)?this.clickHandler:Ext.emptyFn,height=this.height;return Ext.Object.merge({xtype:"rallychart",loadMask:!1,updateAfterRender:Ext.bind(this._onLoad,this),chartData:{series:[{type:"pie",name:"Parents",data:this._chartData,size:height,allowPointSelect:!1,dataLabels:{enabled:!1}},{type:"pie",name:"Children",data:this._childChartData,size:height,innerSize:.8*height,allowPointSelect:!1,dataLabels:{enabled:!1}}]},chartConfig:{chart:{type:"pie",height:height,width:this.width,spacingTop:0,spacingRight:0,spacingBottom:0,spacingLeft:0,events:{click:clickChartHandler}},subtitle:{useHTML:!0,text:'<table align="center" class="pie-chart-legend"><tr><td><span class="legend-swatch defined-sample-swatch"></span><span>Defined</td><td><span class="legend-swatch in-progress-sample-swatch"></span>In-Progress</td><td><span class="legend-swatch completed-sample-swatch"></span>Completed</td><td><span class="legend-swatch blocked-sample-swatch"></span>Blocked</td></tr></table>',verticalAlign:"bottom",floating:!0,x:-50,y:-25},tooltip:{formatter:this._formatTooltip},spacingTop:0,title:{text:null},plotOptions:{pie:{shadow:!1,center:["50%","50%"],point:{events:{click:function(event){this.ref&&Rally.nav.Manager.showDetail(this.ref)}}},showInLegend:!1}}}},overrides||{})},_addPointForTopLevelItem:function(record,relatedCount){var blocked=!1,pointSize=record.get("PreliminaryEstimate")&&record.get("PreliminaryEstimate").Value||1,color="#C0C0C0",colorObject;colorObject=Rally.util.HealthColorCalculator.calculateHealthColorForPortfolioItemData(record.data,"PercentDoneByStoryCount"),color=colorObject.hex,this._chartData.push({name:record.get("FormattedID"),y:pointSize,color:color,rallyName:record.get("Name"),status:record.get("State")&&record.get("State").Name||"--No Entry--",blocked:blocked,schedule:colorObject.label,hasChildren:relatedCount>0,relatedCount:relatedCount,ref:record.get("_ref"),parentFormattedID:null})},_colorFromStatus:function(state,blocked){var progressColors={Defined:"#C0C0C0","In-Progress":"#00A9E0",Completed:"#8DC63F",Blocked:"#EE1C25"},color=progressColors[state];return blocked&&(color=progressColors.Blocked),color},_addPointForChildItem:function(record,parentFormattedID,pointSize,parentState,isParentBlocked){var blocked=record.get("Blocked"),state=record.get("ScheduleState"),color=this._colorFromStatus(this._storyStates[parentState||state],blocked||isParentBlocked);this._childChartData.push({name:record.get("FormattedID"),y:pointSize,color:color,rallyName:record.get("Name"),status:state,blocked:blocked,blockedReason:blocked?record.get("BlockedReason"):null,hasChildren:!1,relatedCount:0,ref:record.get("_ref"),parentFormattedID:parentFormattedID})},_formatTooltip:function(){var relatedCount="",blockedMessage="",artifactName=this.point.rallyName?"<b>"+this.point.name+"</b>: "+this.point.rallyName+"<br/>":this.point.name;if(this.point.blocked&&(blockedMessage="<b>Blocked</b>",this.point.blockedReason&&(blockedMessage+=": "+this.point.blockedReason)),this.point.schedule&&(blockedMessage="<b>Schedule</b>: "+this.point.schedule),this.point.series&&"Parents"===this.point.series.name){if(!this.point.userStory){var numRelated=this.point.relatedCount||0;relatedCount="Stories: "+numRelated}return artifactName+this.point.status+"<br/>"+relatedCount+"<br/>"+blockedMessage}return artifactName+this.point.status+"<br/>"+blockedMessage}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.iterationprogresscharts.MinimalPieChart",{alias:"widget.statsbannerminimalpiechart",extend:"Rally.apps.releasetracking.statsbanner.iterationprogresscharts.PieChart",_loadArtifacts:function(){this._chartData=[],this._childChartData=[],this._createDataPointsFromSummary()},_createDataPointsFromSummary:function(){_.each(this.store.getRange(),function(record){var summary=record.get("Summary"),totalChildItems=record.get("LeafStoryCount"),planEstimate=record.get("PreliminaryEstimate")&&record.get("PreliminaryEstimate").Value||1,nullPointString="No stories.",keys,state,scheduleState,blocked,count,pointSizeForChildren=planEstimate/totalChildItems||1;this._addPointForTopLevelItem(record,totalChildItems),0===totalChildItems&&this._childChartData.push({name:nullPointString,y:planEstimate,color:"#FFF",rallyName:null,status:"",blocked:!1,blockedReason:"",hasChildren:!1,relatedCount:0,ref:null,parentFormattedID:null}),summary.UserStories&&summary.UserStories.Count&&(keys=_.keys(summary.UserStories["schedulestate+blocked"]),_.each(keys,function(key){state=key.split("+"),scheduleState=state[0],blocked="true"===state[1],count=summary.UserStories["schedulestate+blocked"][key],_.each(_.range(0,count),function(point){this._addPointForChildItem(record.get("FormattedID"),pointSizeForChildren,scheduleState,blocked)},this)},this))},this);var chart=this._createChartConfig();this.add(chart)},_onAllDataLoaded:function(){_.each(this.store.getRange(),function(record){var stories=record.get("UserStories"),relatedCount=record.get("LeafStoryCount"),planEstimate=record.get("PreliminaryEstimate")&&record.get("PreliminaryEstimate")||1,pointSizeForChildren=planEstimate/relatedCount||1,nullPointString="No stories.";this._addPointForTopLevelItem(record,relatedCount),0===relatedCount?this._childChartData.push({name:nullPointString,y:planEstimate,color:"#FFF",rallyName:null,status:"",blocked:!1,blockedReason:"",hasChildren:!1,relatedCount:0,ref:null,parentFormattedID:null}):stories&&stories.Results&&_.each(stories.Results,function(story){this._addPointForChildItem(story,record.get("FormattedID"),pointSizeForChildren)},this)},this);var chart=this._createChartConfig();this.add(chart),this.recordLoadEnd()},_createChartConfig:function(overrides){var clickChartHandler=_.isFunction(this.clickHandler)?this.clickHandler:Ext.emptyFn,height=this.height;return Ext.Object.merge({xtype:"rallychart",loadMask:!1,updateAfterRender:Ext.bind(this._onLoad,this),chartData:{series:[{type:"pie",name:"Parents",data:this._chartData,size:height,allowPointSelect:!1,dataLabels:{enabled:!1}},{type:"pie",name:"Children",data:this._childChartData,size:height,innerSize:.8*height,allowPointSelect:!1,dataLabels:{enabled:!1}}]},chartConfig:{chart:{type:"pie",height:height,width:this.width,spacingTop:0,spacingRight:0,spacingBottom:0,spacingLeft:0,events:{click:clickChartHandler}},tooltip:{formatter:function(){return!1}},spacingTop:0,title:{text:null},plotOptions:{pie:{shadow:!1,center:["50%","50%"],point:{events:{click:clickChartHandler}},showInLegend:!1}}}},overrides||{})},_addPointForTopLevelItem:function(record,relatedCount){var blocked=!1,pointSize=record.get("PreliminaryEstimate")&&record.get("PreliminaryEstimate").Value||1,color="#C0C0C0",colorObject;colorObject=Rally.util.HealthColorCalculator.calculateHealthColorForPortfolioItemData(record.data,"PercentDoneByStoryCount"),color=colorObject.hex,this._chartData.push({name:record.get("FormattedID"),y:pointSize,color:color,rallyName:record.get("Name"),status:record.get("State")&&record.get("State").Name,blocked:blocked,blockedReason:blocked?record.get("BlockedReason"):null,hasChildren:relatedCount>0,relatedCount:relatedCount,ref:record.get("_ref"),parentFormattedID:null})},_addPointForChildItem:function(parentFormattedID,pointSize,state,blocked){var color=this._colorFromStatus(this._storyStates[state],blocked);this._childChartData.push({y:pointSize,color:color,status:state,blocked:blocked,hasChildren:!1,relatedCount:0,parentFormattedID:parentFormattedID})}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.IterationProgressDialogChartToggle",{requires:["Rally.ui.Button"],extend:"Ext.Container",alias:"widget.iterationprogressdialogcharttoggle",componentCls:"iteration-progress-toggle-button-group",layout:"hbox",border:1,width:106,activeButtonCls:"active",defaultType:"rallybutton",config:{startingIndex:0},items:[{cls:"toggle left pie-chart",iconCls:"icon-pie",frame:!1,toggleGroup:"iterationprogressviewtoggle",style:{fontSize:"15px"},toolTipConfig:{html:"Pie",anchor:"top",hideDelay:0},userAction:"IterationProgressApp - User clicked pie chart"},{cls:"toggle center burndown",iconCls:"icon-bars",frame:!1,toggleGroup:"iterationprogressviewtoggle",toolTipConfig:{html:"Burndown",anchor:"top",hideDelay:0},userAction:"IterationProgressApp - User clicked burndown"},{cls:"toggle right cumulativeflow",iconCls:"icon-graph",frame:!1,toggleGroup:"iterationprogressviewtoggle",toolTipConfig:{html:"Cumulative Flow",anchor:"top",hideDelay:0},userAction:"IterationProgressApp - User clicked CFD"}],initComponent:function(config){this.initConfig(config),this.callParent(arguments),this.addEvents(["toggle"]),this.items.each(function(item){item.on("click",this._onButtonClick,this)},this),this.setCurrentItem(this.startingIndex)},_onButtonClick:function(btn){var btnIndex=this.items.indexOf(btn);btnIndex!==this._activeIndex&&(this._setActive(btn),this.fireEvent("toggle",this,btnIndex))},_setActive:function(btn){this.items.each(function(item,btnIndex){item===btn?item.hasCls(this.activeButtonCls.split(" ")[0])||(item.addCls(this.activeButtonCls),this._activeIndex=btnIndex):item.removeCls(this.activeButtonCls)},this)},setCurrentItem:function(itemIndex){this._setActive(this.items.get(itemIndex))}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.IterationProgressDialog",{extend:"Rally.ui.dialog.Dialog",alias:"widget.statsbanneriterationprogressdialog",requires:["Rally.apps.releasetracking.statsbanner.IterationProgressDialogChartToggle","Rally.apps.releasetracking.statsbanner.iterationprogresscharts.PieChart","Rally.ui.carousel.Carousel"],config:{startingIndex:0,autoShow:!0,draggable:!0,disableScroll:!0,width:820,height:650,closable:!0,store:null,context:null},layout:{type:"vbox",align:"center"},cls:"iteration-progress-dialog",constructor:function(config){this.initConfig(config||{}),this.callParent(arguments)},initComponent:function(){var chartWidth=704,chartHeight=570;this.callParent(arguments),this.carousel=this.add({xtype:"rallycarousel",showDots:!1,enableAnimations:!1,carouselItems:[{xtype:"statsbannerpiechart",width:chartWidth,height:chartHeight,context:this.context}],startingIndex:this.startingIndex,listeners:{carouselmove:{fn:this._onCarouselMove,scope:this},afterlayout:{fn:this._afterLayout,single:!0,scope:this}}})},_toggleButtonClick:function(toggleBtnContainer,buttonIndex){this._setChart(buttonIndex)},_afterLayout:function(){Ext.defer(this._setChart,10,this,[this.startingIndex])},_setChart:function(chartIndex){this.carousel.setCurrentItem(chartIndex),this.header.titleCmp.textEl.update(this.carousel.getCurrentItem().displayTitle)},_onCarouselMove:function(carousel){this._setChart(carousel.getCurrentItemIndex())}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.IterationProgress",{extend:"Rally.apps.releasetracking.statsbanner.BannerWidget",alias:"widget.statsbanneriterationprogress",requires:["Rally.ui.carousel.Carousel","Rally.apps.releasetracking.statsbanner.iterationprogresscharts.MinimalPieChart","Rally.apps.releasetracking.statsbanner.iterationprogresscharts.PieChart","Rally.apps.releasetracking.statsbanner.IterationProgressDialog","Ext.state.Manager"],config:{context:null,store:null},currentChartDisplayed:0,stateId:"stats-banner-iteration-progress",stateful:!0,clientMetrics:{method:"_onChartClick",description:"opened IterationProgressDialog"},tpl:['<div class="expanded-widget">','<div class="stat-title"></div>','<div class="stat-metric">','<div class="stat-carousel"></div>',"</div>","</div>",'<div class="collapsed-widget">','<span class="metric-icon icon-pie"></span>','<div class="stat-title"></div>',"</div>"],constructor:function(config){this.stateId=Rally.environment.getContext().getScopedStateId(this.stateId),this.callParent(arguments)},initComponent:function(){this.mon(this.store,"datachanged",this.onDataChanged,this),this.callParent(arguments);var boundClickHandler=Ext.bind(this._onChartClick,this);this.carouselItems=[{xtype:"statsbannerminimalpiechart",width:150,height:60,minimalMode:!0,clickHandler:boundClickHandler,context:this.context,store:this.store}],_.each(this.carouselItems,function(carouselItem){carouselItem.listeners={ready:this._onChartReady,scope:this}},this),this._pendingChartReadies=this.carouselItems.length},expand:function(){this.callParent(),this.carousel&&0!==this.carousel.getWidth()||this.onDataChanged()},_onChartReady:function(){this._pendingChartReadies-=1,0===this._pendingChartReadies&&this.fireEvent("ready",this)},_onChartClick:function(){var currentIndex=this.carousel.getCurrentItemIndex();Ext.create("Rally.apps.releasetracking.statsbanner.IterationProgressDialog",{startingIndex:currentIndex,store:this.store,context:this.context})},_cleanupCarousel:function(){this.carousel&&(this.carousel.destroy(),delete this.carousel)},onDestroy:function(){this._cleanupCarousel(),this.callParent(arguments)},onRender:function(){this.callParent(arguments),this.getContext().getTimeboxScope().getRecord()||this._addPlaceholder()},applyState:function(state){state&&(this.currentChartDisplayed=state.currentChartDisplayed>this.carouselItems.length-1||0>state.currentChartDisplayed?0:state.currentChartDisplayed)},getState:function(){return{currentChartDisplayed:this.currentChartDisplayed}},onDataChanged:function(){this._cleanupCarousel(),this.rendered&&(this.getContext().getTimeboxScope().getRecord()?(this.update(),this.createCarousel()):this._addPlaceholder())},createCarousel:function(){this.carousel=Ext.create("Rally.ui.carousel.Carousel",{showHeader:!1,showDots:!0,smallDots:!0,renderTo:this.getEl().down(".stat-carousel"),height:75,layout:{type:"vbox",align:"center"},listeners:{currentitemset:this._updateTitle,carouselmove:this._updateTitle,scope:this},carouselItems:this.carouselItems}),Ext.isIE8m||this.carousel.setCurrentItem(this.currentChartDisplayed),this.carousel.on("carouselmove",this._chartShownChanged,this)},_updateTitle:function(carousel){_.each(this.getEl().query(".stat-title"),function(el){Ext.fly(el).update(carousel.getCurrentItem().displayTitle)},this)},_chartShownChanged:function(){var chartShown=_.findIndex(this.carouselItems,{xtype:this.carousel.getCurrentItem().xtype});this.currentChartDisplayed=chartShown||0,this.saveState()},_addPlaceholder:function(){this.update(),this.expanded&&(this.carousel=Ext.create("Ext.Container",{renderTo:this.getEl().down(".stat-carousel"),html:"no iteration data"}))}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.statsbanner.CollapseExpand",{extend:"Rally.apps.releasetracking.statsbanner.BannerWidget",alias:"widget.statsbannercollapseexpand",requires:[],tpl:['<div class="expanded-widget">','<div class="toggle-icon icon-chevron-up"></div>',"</div>",'<div class="collapsed-widget">','<div class="toggle-icon icon-chevron-down"></div>',"</div>"],componentCls:"collapse-expand",bubbleEvents:["collapse","expand"],afterRender:function(){this.callParent(arguments),this.getEl().on("click",this._onCollapseExpandClick,this),this.fireEvent("ready",this)},_onCollapseExpandClick:function(){this.expanded?this.fireEvent("collapse",this):this.fireEvent("expand",this)},expand:function(){this.callParent(arguments),this.doComponentLayout()},collapse:function(){this.callParent(arguments),this.doComponentLayout()}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.StatsBanner",{extend:"Ext.Container",alias:"widget.statsbanner",requires:["Rally.apps.releasetracking.statsbanner.PlannedVelocity","Rally.apps.releasetracking.statsbanner.TimeboxEnd","Rally.apps.releasetracking.statsbanner.LateStories","Rally.apps.releasetracking.statsbanner.Accepted","Rally.apps.releasetracking.statsbanner.EstimatedStories","Rally.apps.releasetracking.statsbanner.IterationProgress","Rally.apps.releasetracking.statsbanner.CollapseExpand"],mixins:["Rally.Messageable","Rally.clientmetrics.ClientMetricsRecordable"],cls:"stats-banner",layout:"hbox",border:0,width:"100%",stateful:!0,stateEvents:["expand","collapse"],config:{context:null,expanded:!0},items:[{xtype:"statsbannerplannedvelocity",unitLabel:"feature points"},{xtype:"statsbannertimeboxend"},{xtype:"statsbannerestimatedstories"},{xtype:"statsbanneraccepted",byCount:!1},{xtype:"statsbanneraccepted",byCount:!0},{xtype:"statsbannerlatestories"},{xtype:"statsbanneriterationprogress",flex:2},{xtype:"statsbannercollapseexpand",flex:0}],constructor:function(){this.stateId=Rally.environment.getContext().getScopedStateId("stats-banner"),this.callParent(arguments)},initComponent:function(){this.addEvents("expand","collapse"),this.subscribe(this,Rally.Message.objectDestroy,this._update,this),this.subscribe(this,Rally.Message.objectCreate,this._update,this),this.subscribe(this,Rally.Message.objectUpdate,this._update,this),this.subscribe(this,Rally.Message.bulkUpdate,this._update,this),this.store=Ext.create("Rally.data.wsapi.artifact.Store",{models:["PortfolioItem/Feature"],fetch:["Name","PercentDoneByStoryCount","PercentDoneByStoryPlanEstimate","Release[Name;ReleaseStartDate;ReleaseDate]","PreliminaryEstimate[Value]","LateChildCount","AcceptedLeafStoryPlanEstimateTotal","AcceptedLeafStoryCount","LeafStoryCount","LeafStoryPlanEstimateTotal","UnEstimatedLeafStoryCount","PlannedStartDate","PlannedEndDate","ActualStartDate","ActualEndDate","UserStories:summary[ScheduleState;PlanEstimate;ScheduleState+Blocked]"],useShallowFetch:!0,filters:[this.context.getTimeboxScope().getQueryFilter()],context:this.context.getDataContext(),limit:1/0,requester:this}),this.items=this._configureItems(this.items),this.on("expand",this._onExpand,this),this.on("collapse",this._onCollapse,this),this.callParent(arguments),this._update()},onRender:function(){this.expanded?this.removeCls("collapsed"):this.addCls("collapsed"),this._setExpandedOnChildItems(),this.callParent(arguments)},applyState:function(state){Ext.isDefined(state.expanded)&&this.setExpanded(state.expanded),this._setExpandedOnChildItems()},getState:function(){return{expanded:this.expanded}},_setExpandedOnChildItems:function(){_.each(this.items.getRange(),function(item){item.setExpanded(this.expanded)},this)},_getItemDefaults:function(){return{flex:1,context:this.context,store:this.store,listeners:{ready:this._onReady,scope:this}}},_onReady:function(){this._readyCount=(this._readyCount||0)+1,this._readyCount===this.items.getCount()&&(this.recordComponentReady(),delete this._readyCount)},_onCollapse:function(){this.addCls("collapsed"),this.setExpanded(!1),_.invoke(this.items.getRange(),"collapse")},_onExpand:function(){this.removeCls("collapsed"),this.setExpanded(!0),_.invoke(this.items.getRange(),"expand")},_hasTimebox:function(){return!!this.context.getTimeboxScope().getRecord()},_configureItems:function(items){var defaults=this._getItemDefaults();return _.map(items,function(item){return _.defaults(_.cloneDeep(item),defaults)})},_update:function(){this._hasTimebox()&&this.store.load()}})})();
                (function(){var Ext=window.Ext4||window.Ext;Ext.define("Rally.apps.releasetracking.ReleaseTrackingApp",{extend:"Rally.app.TimeboxScopedApp",requires:["Rally.data.Ranker","Rally.ui.gridboard.GridBoard","Rally.ui.grid.TreeGrid","Rally.data.wsapi.TreeStoreBuilder","Rally.ui.cardboard.plugin.FixedHeader","Rally.ui.cardboard.plugin.Print","Rally.ui.gridboard.plugin.GridBoardAddNew","Rally.ui.gridboard.plugin.GridBoardOwnerFilter","Rally.ui.gridboard.plugin.GridBoardFilterInfo","Rally.ui.gridboard.plugin.GridBoardArtifactTypeChooser","Rally.ui.gridboard.plugin.GridBoardFieldPicker","Rally.ui.cardboard.plugin.ColumnPolicy","Rally.ui.gridboard.plugin.GridBoardFilterInfo","Rally.ui.gridboard.plugin.GridBoardFilterControl","Rally.ui.gridboard.plugin.GridBoardToggleable","Rally.ui.grid.plugin.TreeGridExpandedRowPersistence","Rally.ui.gridboard.plugin.GridBoardExpandAll","Rally.ui.gridboard.plugin.GridBoardCustomView","Rally.ui.filter.view.ModelFilter","Rally.ui.filter.view.OwnerFilter","Rally.ui.filter.view.OwnerPillFilter","Rally.ui.filter.view.TagPillFilter","Rally.app.Message","Rally.clientmetrics.ClientMetricsRecordable","Rally.apps.releasetracking.StatsBanner"],mixins:["Rally.app.CardFieldSelectable","Rally.clientmetrics.ClientMetricsRecordable"],componentCls:"iterationtrackingboard",alias:"widget.rallyreleasetrackingapp",settingsScope:"project",scopeType:"release",autoScroll:!1,config:{defaultSettings:{ignoreProjectScoping:!0}},eModelNames:["User Story","Defect","Defect Suite","Test Set"],sModelNames:[],onScopeChange:function(){if(!this.rendered)return this.on("afterrender",this.onScopeChange,this,{single:!0}),void 0;var typeStore=Ext.create("Rally.data.wsapi.Store",{autoLoad:!1,model:"TypeDefinition",sorters:[{property:"Ordinal",direction:"ASC"}],filters:[{property:"Parent.Name",operator:"=",value:"Portfolio Item"},{property:"Creatable",operator:"=",value:!0}]});typeStore.load({scope:this,callback:function(records){this.sModelNames=Ext.Array.from(_.first(records).get("TypePath")),this.sModelMap=_.transform(records,function(acc,rec){acc[rec.get("TypePath")]=rec},{}),this._addStatsBanner(),this._getGridStore().then({success:function(gridStore){var model=gridStore.model;this._addGridBoard(gridStore),gridStore.setParentTypes(this.sModelNames),gridStore.load()},scope:this})}})},_getModelNames:function(){return _.union(this.sModelNames,this.eModelNames)},getSettingsFields:function(){var fields=this.callParent(arguments);return fields.push({name:"ignoreProjectScoping",xtype:"rallycheckboxfield",label:"Show Children in any Project"}),fields},_getGridStore:function(){var context=this.getContext(),config={models:this._getModelNames(),autoLoad:!1,remoteSort:!0,root:{expanded:!0},enableHierarchy:!0,expandingNodesRespectProjectScoping:!this.getSetting("ignoreProjectScoping")};return config.filters=[context.getTimeboxScope().getQueryFilter()],Ext.create("Rally.data.wsapi.TreeStoreBuilder").build(config).then({success:function(store){return store}})},_addStatsBanner:function(){this.remove("statsBanner"),this.add({xtype:"statsbanner",itemId:"statsBanner",context:this.getContext(),margin:"0 0 5px 0",listeners:{resize:this._resizeGridBoardToFillSpace,scope:this}})},_addGridBoard:function(gridStore){var context=this.getContext();this.remove("gridBoard"),this.gridboard=this.add({itemId:"gridBoard",xtype:"rallygridboard",stateId:"portfoliotracking-gridboard",context:context,plugins:this._getGridBoardPlugins(),modelNames:this._getModelNames(),gridConfig:this._getGridConfig(gridStore),addNewPluginConfig:{style:{"float":"left","margin-right":"5px"}},listeners:{load:this._onLoad,toggle:this._onToggle,recordupdate:this._publishContentUpdatedNoDashboardLayout,recordcreate:this._publishContentUpdatedNoDashboardLayout,scope:this},height:Math.max(this.getAvailableGridBoardHeight(),150)})},getAvailableGridBoardHeight:function(){var height=this.getHeight();return this.down("#statsBanner").rendered&&(height-=this.down("#statsBanner").getHeight()),height},_getGridBoardPlugins:function(){var plugins=["rallygridboardaddnew"],context=this.getContext();if(context.isFeatureEnabled("EXPAND_ALL_TREE_GRID_CHILDREN")&&plugins.push("rallygridboardexpandall"),context.isFeatureEnabled("BETA_TRACKING_EXPERIENCE")){var filterControlConfig={cls:"small gridboard-filter-control",context:context,margin:"3 10 3 7",stateful:!0,stateId:context.getScopedStateId("iteration-tracking-filter-button")};context.isFeatureEnabled("USE_CUSTOM_FILTER_POPOVER_ON_ITERATION_TRACKING_APP")?_.merge(filterControlConfig,{customFilterPopoverEnabled:!0,modelNames:this.modelNames}):_.merge(filterControlConfig,{items:[this._createOwnerFilterItem(context),this._createTagFilterItem(context),this._createModelFilterItem(context)]}),plugins.push({ptype:"rallygridboardfiltercontrol",filterControlConfig:filterControlConfig})}else plugins.push("rallygridboardownerfilter");plugins.push("rallygridboardtoggleable");var alwaysSelectedValues=["FormattedID","Name","Owner"];return context.getWorkspace().WorkspaceConfiguration.DragDropRankingEnabled&&alwaysSelectedValues.push("DragAndDropRank"),context.isFeatureEnabled("BETA_TRACKING_EXPERIENCE")||plugins.push({ptype:"rallygridboardfilterinfo",isGloballyScoped:Ext.isEmpty(this.getSetting("project")),stateId:"iteration-tracking-owner-filter-"+this.getAppId()}),plugins.push({ptype:"rallygridboardfieldpicker",headerPosition:"left",gridFieldBlackList:["ObjectID","Description","DisplayColor","Notes","Subscription","Workspace","Changesets","RevisionHistory","Children"],boardFieldBlackList:["ObjectID","Description","DisplayColor","Notes","Rank","DragAndDropRank","Subscription","Workspace","Changesets","RevisionHistory","PortfolioItemType","StateChangedDate","Children"],alwaysSelectedValues:alwaysSelectedValues,modelNames:this.modelNames,boardFieldDefaults:this.getSetting("cardFields")&&this.getSetting("cardFields").split(",")||["Parent","Tasks","Defects","Discussion","PlanEstimate","Iteration"]}),context.isFeatureEnabled("ITERATION_TRACKING_CUSTOM_VIEWS")&&plugins.push(this._getCustomViewConfig()),plugins},setHeight:Ext.Function.createBuffered(function(){this.superclass.setHeight.apply(this,arguments),this._resizeGridBoardToFillSpace()},100),_resizeGridBoardToFillSpace:function(){this.gridboard&&this.gridboard.setHeight(this.getAvailableGridBoardHeight())},_getCustomViewConfig:function(){var customViewConfig={ptype:"rallygridboardcustomview",stateId:"iteration-tracking-board-app",defaultGridViews:[{model:["UserStory","Defect","DefectSuite"],name:"Defect Status",state:{cmpState:{expandAfterApply:!0,columns:["Name","State","Discussion","Priority","Severity","FoundIn","FixedIn","Owner"]},filterState:{filter:{defectstatusview:{isActiveFilter:!1,itemId:"defectstatusview",queryString:"((Defects.ObjectID != null) OR (Priority != null))"}}}}},{model:["UserStory","Defect","TestSet","DefectSuite"],name:"Task Status",state:{cmpState:{expandAfterApply:!0,columns:["Name","State","PlanEstimate","TaskEstimate","ToDo","Discussions","Owner"]},filterState:{filter:{taskstatusview:{isActiveFilter:!1,itemId:"taskstatusview",queryString:"(Tasks.ObjectID != null)"}}}}},{model:["UserStory","Defect","TestSet"],name:"Test Status",state:{cmpState:{expandAfterApply:!0,columns:["Name","State","Discussions","LastVerdict","LastBuild","LastRun","ActiveDefects","Priority","Owner"]},filterState:{filter:{teststatusview:{isActiveFilter:!1,itemId:"teststatusview",queryString:"(TestCases.ObjectID != null)"}}}}}]};return customViewConfig.defaultBoardViews=_.cloneDeep(customViewConfig.defaultGridViews),_.each(customViewConfig.defaultBoardViews,function(view){delete view.state.cmpState}),customViewConfig},_createOwnerFilterItem:function(context){var isPillPickerEnabled=context.isFeatureEnabled("BETA_TRACKING_EXPERIENCE"),projectRef=context.getProjectRef();return isPillPickerEnabled?{xtype:"rallyownerpillfilter",margin:"-15 0 5 0",filterChildren:this.getContext().isFeatureEnabled("S58650_ALLOW_WSAPI_TRAVERSAL_FILTER_FOR_MULTIPLE_TYPES"),project:projectRef,showPills:!1,showClear:!0}:{xtype:"rallyownerfilter",margin:"5 0 5 0",filterChildren:this.getContext().isFeatureEnabled("S58650_ALLOW_WSAPI_TRAVERSAL_FILTER_FOR_MULTIPLE_TYPES"),project:projectRef}},_createTagFilterItem:function(context){var filterUiImprovementsToggleEnabled=context.isFeatureEnabled("BETA_TRACKING_EXPERIENCE");return{xtype:"rallytagpillfilter",margin:filterUiImprovementsToggleEnabled?"-15 0 5 0":"5 0 5 0",showPills:filterUiImprovementsToggleEnabled,showClear:filterUiImprovementsToggleEnabled,remoteFilter:filterUiImprovementsToggleEnabled}},_createModelFilterItem:function(context){return{xtype:"rallymodelfilter",models:this.modelNames,context:context}},_getGridConfig:function(gridStore){var context=this.getContext(),stateString="release-tracking",stateId=context.getScopedStateId(stateString),gridConfig={xtype:"rallytreegrid",store:gridStore,columnCfgs:null,defaultColumnCfgs:this._getGridColumns(),model:"UserStory",showSummary:!0,summaryColumns:this._getSummaryColumnConfig(),plugins:[],stateId:stateId,stateful:!0};return gridConfig},_getSummaryColumnConfig:function(){var taskUnitName=this.getContext().getWorkspace().WorkspaceConfiguration.TaskUnitName,planEstimateUnitName=this.getContext().getWorkspace().WorkspaceConfiguration.IterationEstimateUnitName;return[{field:"AcceptedLeafStoryCount",type:"sum",units:"Total"},{field:"AcceptedLeafStoryPlanEstimateTotal",type:"sum",units:planEstimateUnitName},{field:"LeafStoryCount",type:"sum",units:"Total"},{field:"LeafStoryPlanEstimateTotal",type:"sum",units:planEstimateUnitName},{field:"UnEstimatedLeafStoryCount",type:"sum",units:"Total"}]},_getGridColumns:function(columns){var result=["FormattedID","Name","PercentDoneByStoryPlanEstimate","PreliminaryEstimate","ScheduleState","PlanEstimate","Blocked","Iteration","Owner","Discussion"];return columns&&(result=columns),_.pull(result,"FormattedID"),result},_onLoad:function(){this._publishContentUpdated(),this.recordComponentReady()},_onBoardFilter:function(){this.setLoading(!0)},_onBoardFilterComplete:function(){this.setLoading(!1)},_onToggle:function(toggleState){var appEl=this.getEl();"board"===toggleState?appEl.replaceCls("grid-toggled","board-toggled"):appEl.replaceCls("board-toggled","grid-toggled"),this._publishContentUpdated()},_publishContentUpdated:function(){this.fireEvent("contentupdated")},_publishContentUpdatedNoDashboardLayout:function(){this.fireEvent("contentupdated",{dashboardLayout:!1})}})})();

            Rally.launchApp('Rally.apps.releasetracking.ReleaseTrackingApp', {
                name:"Release Tracking Board",
	            parentRepos:""
            });

        });
    </script>


    <style type="text/css">
        .stat-panel .collapsed-widget,.stat-panel .collapsed-widget>div{display:none}.stat-panel .expanded-widget,.stat-panel .expanded-widget>div{display:block}.stat-panel.collapsed .collapsed-widget,.stat-panel.collapsed .collapsed-widget>div{display:inline-block}.stat-panel.collapsed .expanded-widget,.stat-panel.collapsed .expanded-widget>div{display:none}.stats-banner .stat-panel{border-top:1px solid #d6d6d6;border-left:1px solid #d6d6d6;border-bottom:1px solid #d6d6d6;height:110px;text-align:center}.stats-banner .stat-panel:first-child{border-left:0}.stats-banner .stat-panel:last-child{border-left-width:2px}.stats-banner .stat-panel .stat-title{color:#222;font-family:ProximaNovaSemiBold,Helvetica,Arial;font-size:14px;padding-top:5px}.stats-banner .stat-panel .stat-metric{color:#666;font-family:ProximaNovaLight,Helvetica,Arial;font-size:18px;height:85px;padding-top:20px}.stats-banner .stat-panel .stat-metric .metric-percent{display:inline;font-size:12px;vertical-align:super}.stats-banner .stat-panel .stat-metric .metric-icon{color:#888;font-size:18px;padding-right:5px}.stats-banner .stat-panel .stat-metric .metric-chart{position:absolute;top:22px;width:100%}.stats-banner .stat-panel .stat-metric .metric-subtext{bottom:7px;color:#888;font-family:ProximaNova,Helvetica,Arial;font-size:11px;position:absolute;text-transform:lowercase;width:100%}.stats-banner .stat-panel .stat-metric .metric-chart-text{position:absolute;top:43px;width:100%}.stats-banner .stat-panel .stat-metric .metric-chart-text.percent-offset{left:3px;top:41px}.stats-banner .stat-panel .stat-metric .stat-secondary{color:#888;font-family:ProximaNova,Helvetica,Arial;font-size:11px;text-transform:lowercase}.stats-banner .stat-panel .stat-metric .stat-carousel{display:inline-block;font-family:ProximaNova,Helvetica,Arial;font-size:12px;margin-top:-20px}.stats-banner .stat-panel .stat-metric .stat-carousel .rally-carousel-pane .x-box-inner{top:0px !important}.stats-banner .stat-panel .stat-metric .stat-carousel .carousel>span{display:inline !important;width:auto !important}.stats-banner .stat-panel .stat-metric .stat-carousel .carousel>span>div{display:block !important}.stats-banner .stat-panel .stat-metric .stat-carousel .carousel .carousel-panel>span{display:inline !important;width:auto !important}.stats-banner .stat-panel .stat-metric .stat-carousel .carousel .carousel-panel>span>div{display:block !important}.stats-banner .stat-panel .chart .highcharts-container{cursor:pointer}.stats-banner .stat-panel .gauge .chart .highcharts-container{cursor:default}.stats-banner .stat-panel .header{display:none}.stats-banner .stat-panel.collapse-expand{background-color:#f6f6f6;width:23px}.stats-banner .stat-panel.collapse-expand .toggle-icon{color:#c0c0c0;font-size:18px;position:relative;right:1px}.stats-banner .stat-panel.collapse-expand:hover{cursor:pointer}.stats-banner .stat-panel.collapse-expand:hover .toggle-icon{color:#888}.stats-banner.collapsed .stat-panel{height:25px;padding-top:2px}.stats-banner.collapsed .stat-panel .metric-icon{color:#888;font-size:14px;padding-right:5px;vertical-align:middle}.stats-banner.collapsed .stat-panel .stat-title{color:#222;display:inline;font-family:ProximaNovaSemiBold,Helvetica,Arial;font-size:12px;vertical-align:middle}.stats-banner.collapsed .stat-panel .stat-metric{color:#888;display:inline;font-family:ProximaNova,Helvetica,Arial;font-size:14px;height:auto;padding-top:auto;padding-left:10px;vertical-align:middle}.stats-banner.collapsed .stat-panel .stat-metric .stat-metric-secondary{font-size:11px}.stats-banner.collapsed .stat-panel .stat-metric .metric-percent{font-size:10px;vertical-align:super}.pie-chart-legend{color:#3E576F;font-size:12px;padding:5px;border:1px solid #909090;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}.pie-chart-legend .legend-swatch{width:17px;height:12px;border:1px solid #EEE;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;float:left;margin:0 3px 0 6px}.pie-chart-legend .legend-swatch.defined-sample-swatch{background:#E0E0E0}.pie-chart-legend .legend-swatch.in-progress-sample-swatch{background:#00a9e0}.pie-chart-legend .legend-swatch.completed-sample-swatch{background:#8dc63f}.pie-chart-legend .legend-swatch.blocked-sample-swatch{background:#EF3F35}.iteration-progress-dialog .carousel .carousel-panel .scroll-button span{width:45px;height:50px;line-height:46px}.iteration-progress-dialog .carousel .carousel-panel .scroll-button span:hover{background-color:#e6e6e6;color:#666}.iteration-progress-toggle-button-group{margin-bottom:5px}.x-gecko .stats-banner.collapsed .stat-panel .stat-metric{line-height:20px;vertical-align:top}.x-gecko .stats-banner.collapsed .stat-panel .stat-metric .metric-percent{line-height:10px}.x-gecko.x-mac .stats-banner.collapsed .stat-panel .stat-metric{line-height:22px}
    </style>
    <style type="text/css">
        .iterationtrackingboard{overflow-y:hidden}.iterationtrackingboard .header{line-height:normal;padding:5px 5px 2px 5px}.iterationtrackingboard .header .add-new{float:left}.iterationtrackingboard .header .add-new .new{margin-left:0}.iterationtrackingboard .header .rui-triggerfield{margin-bottom:5px}.iterationtrackingboard .blank-slate-msg .x-panel-body{clear:both;padding-top:20px;text-align:center}.iterationtrackingboard .gridboard-filter-control{height:22px;margin:3px 0px 0px 5px}.iterationtrackingboard .rui-leftright{margin-bottom:10px}.settings-no-grid{padding:10px}.icon-portfolioitem{speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased}.icon-portfolioitem:before{content:'\e024'}
    </style>
</head>
<body>
</body>
</html>
